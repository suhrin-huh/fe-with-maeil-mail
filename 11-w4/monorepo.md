# 모노레포란 무엇인가요?

## 모노레포(Monorepo)

모노레포(Monorepo)란 mono(단일) + repository(저장소)의 합성어로, 여러 개의 프로젝트(패키지)를 하나의 Git 저장소 안에서 함께 관리하는 방식을 의미한다.

UI 라이브러리, 웹 프론트엔드, 서버 코드, 공통 모듈 등 각각 독립적인 프로젝트를 하나의 저장소에 넣어서 관리하는 구조이다.

전통적인 방식인 멀티레포(Multi-repo)가 프로젝트마다 별도의 저장소를 만드는 형태라면, 모노레포는 모든 프로젝트를 한 곳에 모아 관리하는 방식이라고 이해하면 된다.

## 모노레포 구성 방식
모노레포는 보통 아래 두 가지 방식으로 구성된다.

### 프로젝트 단위 폴더 분리 방식

여러 프로젝트가 하나의 저장소 안에서 각자 독립적인 폴더 구조로 배치된다.

```
/apps
  /web-app
  /admin-app
  /mobile-app
/packages
  /ui
  /utils
```

각 프로젝트는 독립적인 npm 패키지로 취급된다. 공통 의존성은 Yarn Workspaces, NPM Workspaces 등을 사용하여 중앙에서 통합 관리한다. 중복적인 패키지 설치를 방지하여 용량 낭비를 최소화한다.


### 공통 모듈을 공유 폴더로 분리
여러 프로젝트에서 사용하는 코드(유틸, UI 컴포넌트, 스타일 등을 포함)를 shared, packages 같은 폴더로 분리해 관리한다. 공통 코드를 한 번 수정하면 모든 프로젝트에 즉시 반영이 가능하다. 조직 전체에서 일관된 코드 품질과 스타일을 유지할 수 있다.

## 장단점

- 장점
  - 코드 및 설정의 일관성 유지 : 여러 프로젝트가 하나의 저장소에서 동작하므로, 코딩 규칙, 빌드 구조, 패키지 버전 등을 한 곳에서 통일된 방식으로 관리할 수 있다. 대규모 조직에서 특히 유리하며, 팀 간 협업 효율성이 크게 향상된다.
  - 공통 모듈의 중앙 관리 : 공유되는 UI 컴포넌트나 유틸리티 등의 코드가 저장소 내에 있으므로 코드 중복을 감소하고, 공통 모듈의 변경을 모든 프로젝트에 즉시 반영할 수 있으며, 버전 충돌이나 패키지 동기화 문제가 감소한다.
  - 변경 영향 추적 용이 : 하나의  저장소에서 모든 프로젝트가 관리되기 때문에 어떤 코드가 다른 프로젝트에 영향을 주는지 한 눈에 파악할 수 있다.

- 단점
  - 빌드 및 테스트의 부담 증가 : 코드베이스가 커질수록 빌드 시간 및 테스트, CI/CD 파이프라인이 방대해진다.  
  (이를 해결하기 위해 Nx, Turborepo와 같은 모노레포 도구들이 널리 사용된다.)
  - 접근 권한 관리 문제 : 하나의 저장소에 모든 프로젝트가 모여 있기 때문에 프로젝트 별로 권한을 세세하게 나누기가 어렵다.
  - 비효율적인 복잡도 : 프로젝트가 적거나 팀 규모가 작다면 모노레포는 오히려 구조를 복잡하게 만들 수 있다.

